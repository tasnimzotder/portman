{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"portman","text":"<p>See what's using your ports. Kill rogue processes. Wait for services.</p> <p> </p> <p>A fast, simple CLI tool for inspecting and managing network ports on macOS.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>List all listening ports with process info</li> <li>Get detailed information about a specific port</li> <li>Live watch mode with real-time updates and change highlighting</li> <li>Find ports by process name, user, or PID</li> <li>Kill processes occupying ports</li> <li>Wait for ports to become available</li> <li>Process stats: Memory, CPU, file descriptors, threads</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Install\nbrew install tasnimzotder/tap/portman\n\n# List all listening ports\nportman\n\n# Check what's using port 3000\nportman 3000\n\n# Watch port 3000 in real-time\nportman port 3000 --watch\n\n# Watch all ports live\nportman --watch\n\n# Kill the process on port 3000\nportman kill 3000\n</code></pre>"},{"location":"#platform-support","title":"Platform Support","text":"<p>Currently supported on macOS only. Linux support coming soon.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Add version command and update ldflags for versioning information</li> </ul>"},{"location":"changelog/#001-2026-01-20","title":"[0.0.1] - 2026-01-20","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Add PID and port commands for detailed process and port information</li> </ul>"},{"location":"changelog/#other","title":"Other","text":"<ul> <li>Add initial documentation and setup files for portman project</li> <li>Create LICENSE</li> </ul>"},{"location":"changelog/#001-beta4-2026-01-20","title":"[0.0.1-beta.4] - 2026-01-20","text":""},{"location":"changelog/#other_1","title":"Other","text":"<ul> <li>Fix archive format definition and add post-install hook for Homebrew cask</li> </ul>"},{"location":"changelog/#001-beta3-2026-01-20","title":"[0.0.1-beta.3] - 2026-01-20","text":""},{"location":"changelog/#other_2","title":"Other","text":"<ul> <li>Add README.md with installation, usage, commands, and flags</li> </ul>"},{"location":"changelog/#001-beta2-2026-01-20","title":"[0.0.1-beta.2] - 2026-01-20","text":""},{"location":"changelog/#other_3","title":"Other","text":"<ul> <li>Update CI and Release workflows to use macOS for builds and enable tag-based releases</li> <li>Remove branch trigger from release workflow to focus on tag-based releases</li> </ul>"},{"location":"changelog/#001-beta1-2026-01-20","title":"[0.0.1-beta.1] - 2026-01-20","text":""},{"location":"changelog/#other_4","title":"Other","text":"<ul> <li>Initial chaos</li> <li>Add CI and Release workflows with Go setup and build configurations</li> <li>Refactor Homebrew configuration in goreleaser.yaml</li> </ul>"},{"location":"commands/","title":"Commands","text":""},{"location":"commands/#list-ports","title":"List Ports","text":"<p>List all listening ports on your system.</p> <pre><code>portman\n</code></pre> <p>Output columns:</p> Column Description PORT Port number PROTO Protocol (TCP/UDP) PID Process ID USER Process owner CONNS Active connections UPTIME Process uptime PROCESS Process name"},{"location":"commands/#port-details","title":"Port Details","text":"<p>Get detailed information about a specific port.</p> <pre><code>portman &lt;port&gt;\n# or\nportman port &lt;port&gt;\n</code></pre> <p>Example: <pre><code>portman 3000\n</code></pre></p> <p>Shows process info, connections, and stats:</p> <ul> <li>Process: PID, command, user, uptime</li> <li>Listening: Address and protocol</li> <li>Connections: Remote addresses and states</li> <li>Stats: Memory (RSS), CPU %, file descriptors, threads</li> </ul>"},{"location":"commands/#watch-mode","title":"Watch Mode","text":"<p>Monitor ports in real-time with live updates and change highlighting.</p>"},{"location":"commands/#watch-all-ports","title":"Watch All Ports","text":"<pre><code>portman --watch\nportman -w\n</code></pre> <p>Shows a live-updating table of all listening ports: - Green highlighting for newly added ports - Red notification for removed ports - Footer shows total count with +new/-removed</p>"},{"location":"commands/#watch-single-port","title":"Watch Single Port","text":"<pre><code>portman port &lt;port&gt; --watch\nportman port &lt;port&gt; -w\n</code></pre> <p>Example: <pre><code>portman port 3000 --watch\n</code></pre></p> <p>Shows detailed live view with change highlighting: - Yellow highlighting for changed values (connections, memory, CPU, FDs, threads) - Green \"Port became active\" when port starts listening - Red \"Process exited\" when port closes</p> <p>Customizing refresh interval: <pre><code>portman --watch --interval 500ms\nportman port 3000 -w --interval 2s\n</code></pre></p> <p>Press <code>q</code> to quit watch mode.</p>"},{"location":"commands/#find","title":"Find","text":"<p>Search for ports by pattern (matches process name, command, user, port, or PID).</p> <pre><code>portman find &lt;pattern&gt;\n</code></pre> <p>Examples: <pre><code>portman find node      # Find Node.js processes\nportman find postgres  # Find PostgreSQL\nportman find 8080      # Find port 8080\n</code></pre></p>"},{"location":"commands/#kill","title":"Kill","text":"<p>Kill a process using a specific port.</p> <pre><code>portman kill &lt;port&gt;\n</code></pre> <p>Flags:</p> Flag Short Description <code>--force</code> <code>-f</code> Use SIGKILL instead of SIGTERM <code>--yes</code> <code>-y</code> Skip confirmation prompt <code>--signal</code> <code>-s</code> Signal to send: HUP, INT, TERM, KILL (default: TERM) <code>--timeout</code> Wait time before SIGKILL (default: 5s) <code>--quiet</code> <code>-q</code> Suppress output <p>Examples: <pre><code>portman kill 3000           # Kill with confirmation\nportman kill 3000 -y        # Kill without confirmation\nportman kill 3000 -s KILL   # Force kill (SIGKILL)\nportman kill 3000 --timeout 10s  # Wait 10s before force kill\n</code></pre></p>"},{"location":"commands/#wait","title":"Wait","text":"<p>Wait for a port to become available (free) or occupied.</p> <pre><code>portman wait &lt;port&gt;\n</code></pre> <p>Flags:</p> Flag Short Description <code>--timeout</code> Maximum wait time (default: 30s) <code>--interval</code> <code>-i</code> Check interval (default: 100ms) <code>--exec</code> <code>-e</code> Command to run when port is ready <code>--quiet</code> <code>-q</code> Suppress output, just exit code <code>--invert</code> Wait for port to be OCCUPIED instead of free <p>Examples: <pre><code>portman wait 5432                      # Wait for port to be free\nportman wait 3000 --exec \"npm start\"   # Run command when port is free\nportman wait 8080 --invert             # Wait for service to start\nportman wait 3000 --timeout 10s        # Wait max 10 seconds\n</code></pre></p>"},{"location":"commands/#pid-lookup","title":"PID Lookup","text":"<p>Find all ports used by a specific process ID.</p> <pre><code>portman pid &lt;pid&gt;\n</code></pre> <p>Example: <pre><code>portman pid 1234\n</code></pre></p>"},{"location":"commands/#global-flags","title":"Global Flags","text":"Flag Short Default Description <code>--json</code> <code>-j</code> false Output in JSON format <code>--no-header</code> false Omit header row in table output <code>--tcp</code> <code>-t</code> false Show only TCP ports <code>--udp</code> <code>-u</code> false Show only UDP ports <code>--sort</code> port Sort by: port, pid, user, conns, uptime <code>--watch</code> <code>-w</code> false Live updating display <code>--interval</code> 1s Watch mode refresh interval"},{"location":"examples/","title":"Examples","text":""},{"location":"examples/#development-workflow","title":"Development Workflow","text":""},{"location":"examples/#check-if-port-is-in-use-before-starting-dev-server","title":"Check if port is in use before starting dev server","text":"<pre><code>portman 3000 || npm run dev\n</code></pre>"},{"location":"examples/#kill-whatever-is-using-your-dev-port","title":"Kill whatever is using your dev port","text":"<pre><code>portman kill 3000 -y &amp;&amp; npm run dev\n</code></pre>"},{"location":"examples/#wait-for-database-to-be-ready","title":"Wait for database to be ready","text":"<pre><code>portman wait 5432 --invert --exec \"npm run migrate\"\n</code></pre>"},{"location":"examples/#watch-mode","title":"Watch Mode","text":""},{"location":"examples/#monitor-all-ports-in-real-time","title":"Monitor all ports in real-time","text":"<pre><code>portman --watch\n</code></pre>"},{"location":"examples/#watch-a-specific-port-during-development","title":"Watch a specific port during development","text":"<pre><code># Watch your dev server port\nportman port 3000 --watch\n\n# Faster refresh for debugging\nportman port 3000 -w --interval 500ms\n</code></pre>"},{"location":"examples/#monitor-database-connections","title":"Monitor database connections","text":"<pre><code># Watch PostgreSQL port\nportman port 5432 --watch\n\n# Watch MySQL port\nportman port 3306 -w\n</code></pre>"},{"location":"examples/#filter-and-watch","title":"Filter and watch","text":"<pre><code># Watch only TCP ports\nportman --watch --tcp\n\n# Watch only UDP ports\nportman --watch --udp\n</code></pre>"},{"location":"examples/#debugging","title":"Debugging","text":""},{"location":"examples/#find-all-nodejs-processes-using-ports","title":"Find all Node.js processes using ports","text":"<pre><code>portman find node\n</code></pre>"},{"location":"examples/#get-json-output-for-scripting","title":"Get JSON output for scripting","text":"<pre><code>portman --json | jq '.listeners[] | select(.port == 3000)'\n</code></pre>"},{"location":"examples/#sort-by-connection-count-to-find-busy-services","title":"Sort by connection count to find busy services","text":"<pre><code>portman --sort conns\n</code></pre>"},{"location":"examples/#check-process-stats-for-a-port","title":"Check process stats for a port","text":"<pre><code>portman 3000\n# Shows: Memory, CPU %, FDs, Threads\n</code></pre>"},{"location":"examples/#system-administration","title":"System Administration","text":""},{"location":"examples/#list-all-ports-sorted-by-uptime","title":"List all ports sorted by uptime","text":"<pre><code>portman --sort uptime\n</code></pre>"},{"location":"examples/#find-which-user-is-running-a-service","title":"Find which user is running a service","text":"<pre><code>portman find postgres\n</code></pre>"},{"location":"examples/#kill-a-stuck-process-with-sigkill","title":"Kill a stuck process with SIGKILL","text":"<pre><code>portman kill 8080 -s KILL -y\n</code></pre>"},{"location":"examples/#monitor-system-ports-continuously","title":"Monitor system ports continuously","text":"<pre><code># Watch all ports with 2-second refresh\nportman --watch --interval 2s\n</code></pre>"},{"location":"examples/#scripting","title":"Scripting","text":""},{"location":"examples/#check-if-a-port-is-free-exit-code","title":"Check if a port is free (exit code)","text":"<pre><code>if portman 3000 &gt; /dev/null 2&gt;&amp;1; then\n    echo \"Port 3000 is in use\"\nelse\n    echo \"Port 3000 is free\"\nfi\n</code></pre>"},{"location":"examples/#get-pid-of-process-on-port","title":"Get PID of process on port","text":"<pre><code>portman 3000 --json | jq -r '.process.pid'\n</code></pre>"},{"location":"examples/#wait-with-timeout","title":"Wait with timeout","text":"<pre><code>portman wait 3000 --timeout 10s || echo \"Timeout waiting for port\"\n</code></pre>"},{"location":"examples/#output-without-headers-for-parsing","title":"Output without headers for parsing","text":"<pre><code>portman --no-header | awk '{print $1, $3}'\n</code></pre>"},{"location":"examples/#get-memory-usage-of-a-ports-process","title":"Get memory usage of a port's process","text":"<pre><code>portman 3000 --json | jq -r '.stats.memoryRSS'\n</code></pre>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#homebrew-recommended","title":"Homebrew (Recommended)","text":"<pre><code>brew install tasnimzotder/tap/portman\n</code></pre>"},{"location":"installation/#manual-download","title":"Manual Download","text":"<p>Download the latest binary from GitHub Releases.</p> <pre><code># Extract and move to PATH\ntar -xzf portman_*.tar.gz\nsudo mv portman /usr/local/bin/\n</code></pre>"},{"location":"installation/#build-from-source","title":"Build from Source","text":"<p>Requires Go 1.21+</p> <pre><code>git clone https://github.com/tasnimzotder/portman.git\ncd portman\ngo build -o portman ./cmd/portman\nsudo mv portman /usr/local/bin/\n</code></pre>"},{"location":"installation/#verify-installation","title":"Verify Installation","text":"<pre><code>portman --version\n</code></pre>"},{"location":"installation/#platform-support","title":"Platform Support","text":"Platform Status macOS (Apple Silicon) Supported macOS (Intel) Supported Linux Coming soon Windows Not planned"},{"location":"internals/","title":"Internals","text":"<p>This document describes the internal architecture and implementation details of portman.</p>"},{"location":"internals/#package-structure","title":"Package Structure","text":"<pre><code>internal/\n\u251c\u2500\u2500 cli/          # Command definitions (Cobra)\n\u251c\u2500\u2500 scanner/      # Port scanning and process detection\n\u251c\u2500\u2500 model/        # Data structures\n\u251c\u2500\u2500 output/       # Formatters (table, JSON)\n\u251c\u2500\u2500 ui/           # Terminal UI (watch mode)\n\u2514\u2500\u2500 kill/         # Process termination\n</code></pre>"},{"location":"internals/#scanner","title":"Scanner","text":"<p>The scanner package handles port detection and process information gathering.</p>"},{"location":"internals/#interface","title":"Interface","text":"<pre><code>type Scanner interface {\n    ListListeners() ([]model.Listener, error)\n    GetPort(port int) (*model.Listener, error)\n    FindByPattern(pattern string) ([]model.Listener, error)\n}\n</code></pre>"},{"location":"internals/#macos-implementation","title":"macOS Implementation","text":"<p>File: <code>internal/scanner/darwin.go</code></p> <p>Uses native macOS commands:</p> Command Purpose <code>lsof -i -n -P</code> List network connections <code>ps -o rss=,%cpu= -p &lt;pid&gt;</code> Get memory and CPU <code>lsof -p &lt;pid&gt;</code> Count file descriptors <code>ps -M -p &lt;pid&gt;</code> Count threads <p>Options:</p> <pre><code>type Options struct {\n    IncludeTCP   bool  // Include TCP ports (default: true)\n    IncludeUDP   bool  // Include UDP ports (default: true)\n    IncludeIPv6  bool  // Include IPv6 (default: true)\n    ResolveNames bool  // Resolve hostnames (default: false)\n    FetchStats   bool  // Fetch process stats (default: false)\n}\n</code></pre>"},{"location":"internals/#data-models","title":"Data Models","text":"<p>File: <code>internal/model/types.go</code></p>"},{"location":"internals/#listener","title":"Listener","text":"<p>Represents a listening port:</p> <pre><code>type Listener struct {\n    Port            int\n    Protocol        string        // \"tcp\" or \"udp\"\n    Address         string        // Binding address\n    PID             int\n    Process         *Process\n    Connections     []Connection\n    ConnectionCount int\n    Stats           *ProcessStats\n}\n</code></pre>"},{"location":"internals/#process","title":"Process","text":"<pre><code>type Process struct {\n    PID           int\n    Name          string\n    Command       string\n    Cmdline       []string\n    User          string\n    UID           int\n    StartTime     time.Time\n    UptimeSeconds int64\n}\n</code></pre>"},{"location":"internals/#processstats","title":"ProcessStats","text":"<pre><code>type ProcessStats struct {\n    MemoryRSS   int64   // Memory in bytes\n    CPUPercent  float64\n    FDCount     int\n    ThreadCount int\n}\n</code></pre>"},{"location":"internals/#connection","title":"Connection","text":"<pre><code>type Connection struct {\n    LocalAddr       string\n    LocalPort       int\n    RemoteAddr      string\n    RemotePort      int\n    State           string\n    DurationSeconds int64\n}\n</code></pre>"},{"location":"internals/#output-formatters","title":"Output Formatters","text":""},{"location":"internals/#table-formatter","title":"Table Formatter","text":"<p>File: <code>internal/output/table.go</code></p> <p>Formats output as aligned columns:</p> <pre><code>PORT     PROTO    PID      USER       COMMAND      CONNS   UPTIME\n3000     tcp      1234     tasnim     node         2       12h34m\n</code></pre> <p>Features: - Column alignment with fixed widths - Truncation with ellipsis for long values - Optional header row (<code>--no-header</code>)</p>"},{"location":"internals/#json-formatter","title":"JSON Formatter","text":"<p>File: <code>internal/output/json.go</code></p> <p>Outputs structured JSON with metadata:</p> <pre><code>{\n  \"listeners\": [...],\n  \"scanTime\": \"2024-01-20T12:34:56Z\",\n  \"platform\": \"darwin\",\n  \"hostname\": \"machine.local\"\n}\n</code></pre>"},{"location":"internals/#sorting","title":"Sorting","text":"<p>File: <code>internal/output/helpers.go</code></p> <pre><code>func SortListeners(listeners []model.Listener, by string)\n</code></pre> <p>Sort options: <code>port</code>, <code>pid</code>, <code>user</code>, <code>conns</code>, <code>uptime</code></p>"},{"location":"internals/#ui-watch-mode","title":"UI / Watch Mode","text":"<p>Files: <code>internal/ui/watch.go</code>, <code>internal/ui/render.go</code>, <code>internal/ui/ansi.go</code></p>"},{"location":"internals/#ansi-escape-codes","title":"ANSI Escape Codes","text":"<pre><code>const (\n    ClearScreen = \"\\033[2J\"\n    MoveCursor  = \"\\033[H\"\n    ClearLine   = \"\\033[2K\"\n    HideCursor  = \"\\033[?25l\"\n    ShowCursor  = \"\\033[?25h\"\n\n    Green  = \"\\033[32m\"  // New ports\n    Red    = \"\\033[31m\"  // Removed ports\n    Yellow = \"\\033[33m\"  // Changed values\n    Cyan   = \"\\033[36m\"  // Headers\n    Bold   = \"\\033[1m\"\n    Dim    = \"\\033[2m\"\n    Reset  = \"\\033[0m\"\n)\n</code></pre>"},{"location":"internals/#flicker-free-rendering","title":"Flicker-Free Rendering","text":"<p>To avoid screen flicker on refresh:</p> <ol> <li>First render: Clear screen with <code>ClearAndReset()</code></li> <li>Subsequent renders: Move cursor to top with <code>MoveToTop()</code> (no clear)</li> <li>Each line: Clear with <code>PrintLine()</code> before writing</li> </ol> <pre><code>if isFirstRender {\n    ClearAndReset()\n    isFirstRender = false\n} else {\n    MoveToTop()\n}\n</code></pre>"},{"location":"internals/#change-detection","title":"Change Detection","text":"<p>PortSnapshot tracks previous values:</p> <pre><code>type PortSnapshot struct {\n    PID             int\n    ConnectionCount int\n    MemoryRSS       int64\n    CPUPercent      float64\n    FDCount         int\n    ThreadCount     int\n}\n</code></pre> <p>Compare current vs previous to highlight changes in yellow.</p>"},{"location":"internals/#terminal-raw-mode","title":"Terminal Raw Mode","text":"<p>For single-key input (quit with 'q'):</p> <pre><code>// macOS: stty -f /dev/tty cbreak -echo\ncmd := exec.Command(\"stty\", \"-f\", \"/dev/tty\", \"cbreak\", \"-echo\")\n</code></pre> <p>Read from <code>/dev/tty</code> for key input:</p> <pre><code>tty, _ := os.Open(\"/dev/tty\")\nbuf := make([]byte, 1)\ntty.Read(buf)\n</code></pre>"},{"location":"internals/#kill-signal-handling","title":"Kill / Signal Handling","text":"<p>File: <code>internal/kill/kill.go</code></p>"},{"location":"internals/#supported-signals","title":"Supported Signals","text":"<pre><code>var SignalMap = map[string]syscall.Signal{\n    \"HUP\":     syscall.SIGHUP,\n    \"SIGHUP\":  syscall.SIGHUP,\n    \"INT\":     syscall.SIGINT,\n    \"SIGINT\":  syscall.SIGINT,\n    \"TERM\":    syscall.SIGTERM,\n    \"SIGTERM\": syscall.SIGTERM,\n    \"KILL\":    syscall.SIGKILL,\n    \"SIGKILL\": syscall.SIGKILL,\n}\n</code></pre>"},{"location":"internals/#graceful-shutdown","title":"Graceful Shutdown","text":"<pre><code>func KillWithTimeout(pid int, timeout time.Duration) error\n</code></pre> <ol> <li>Send SIGTERM</li> <li>Wait up to <code>timeout</code> for process to exit</li> <li>If still running, send SIGKILL</li> </ol>"},{"location":"internals/#helper-functions","title":"Helper Functions","text":"<pre><code>func Kill(pid int, signal syscall.Signal) error\nfunc WaitForExit(pid int, timeout time.Duration) error\nfunc IsRunning(pid int) bool\nfunc ParseSignal(name string) (syscall.Signal, error)\n</code></pre>"},{"location":"internals/#cli-structure","title":"CLI Structure","text":"<p>File: <code>internal/cli/root.go</code></p> <p>Uses Cobra for command handling:</p> <pre><code>var RootCmd = &amp;cobra.Command{\n    Use:   \"portman [port]\",\n    Short: \"See what's using your ports\",\n    RunE:  runRoot,\n}\n</code></pre>"},{"location":"internals/#subcommands","title":"Subcommands","text":"Command File Description <code>find</code> <code>find.go</code> Search by pattern <code>port</code> <code>port.go</code> Port details <code>pid</code> <code>pid.go</code> PID lookup <code>kill</code> <code>kill.go</code> Kill process <code>wait</code> <code>wait.go</code> Wait for port"},{"location":"internals/#flag-inheritance","title":"Flag Inheritance","text":"<p>Global flags are defined with <code>PersistentFlags()</code> and inherited by all subcommands:</p> <pre><code>RootCmd.PersistentFlags().BoolVarP(&amp;jsonOutput, \"json\", \"j\", false, \"Output as JSON\")\nRootCmd.PersistentFlags().BoolVarP(&amp;watchMode, \"watch\", \"w\", false, \"Live display\")\n</code></pre>"},{"location":"internals/#error-handling","title":"Error Handling","text":""},{"location":"internals/#kill-errors","title":"Kill Errors","text":"<pre><code>var (\n    ErrPermissionDenied = errors.New(\"permission denied\")\n    ErrProcessNotFound  = errors.New(\"process not found\")\n    ErrProcessRunning   = errors.New(\"process still running\")\n)\n</code></pre>"},{"location":"internals/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Success 1 General error / timeout 2 Permission denied 3 Process won't terminate"},{"location":"internals/#adding-new-features","title":"Adding New Features","text":""},{"location":"internals/#new-command","title":"New Command","text":"<ol> <li>Create <code>internal/cli/newcmd.go</code></li> <li>Define <code>var newCmd = &amp;cobra.Command{...}</code></li> <li>Add to root: <code>RootCmd.AddCommand(newCmd)</code> in <code>init()</code></li> </ol>"},{"location":"internals/#new-platform","title":"New Platform","text":"<ol> <li>Create <code>internal/scanner/linux.go</code> with build tag</li> <li>Implement <code>Scanner</code> interface</li> <li>Use platform-specific commands (e.g., <code>ss</code>, <code>netstat</code>)</li> </ol>"},{"location":"internals/#new-output-format","title":"New Output Format","text":"<ol> <li>Create <code>internal/output/format.go</code></li> <li>Implement formatter with <code>Format([]model.Listener) string</code></li> <li>Add flag and routing in CLI</li> </ol>"}]}